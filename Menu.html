<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>KimhutCaf√©</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <header>
        <img src="image/B1.jpeg" alt="KimhutCaf√© Logo" class="logo">
        <h1>KimhutCaf√©</h1>
        <nav>
            <ul>
                <!-- <li><a href="index.html"> Home</a></li>
                <li class="dropdown">
                    <a href="Menu.html" class="dropbtn" class="active">Menu &#9662;</a>
                    <div class="dropdown-content">
                        <a href="#caffe">Caffe</a>
                        <a href="#drink">Drink</a>
                    </div>
                </li> -->
                <li><a href="index.html">Home</a></li>
                <li><a href="Menu.html" class="active">Menu</a></li>
                <li><a href="aboutus.html">About Us</a></li>
                <li><a href="contactus.html">Contact Us</a></li>
                <li><a href="order-history.html">Order History</a></li>
            </ul>
        </nav>
    </header>
    <section class="contact-social-section">
        <div class="social-icons">
            <a href="https://web.facebook.com/people/%E1%9E%82%E1%9E%B9%E1%9E%98%E1%9E%A0%E1%9F%8A%E1%9E%BB%E1%9E%8F-%E1%9E%80%E1%9E%B6%E1%9E%A0%E1%9F%92%E1%9E%9C%E1%9F%81Kimhut-Coffee/100068016318775/"
                target="_blank" aria-label="Facebook">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/facebook.svg" alt="Facebook" />
            </a>
            <a href="https://t.me" target="_blank" aria-label="Telegram">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/telegram.svg" alt="Telegram" />
            </a>
            <a href="https://maps.app.goo.gl/BHhLBougnc5rbpeT9" target="_blank" aria-label="Google Map">
                <img src="https://cdn.jsdelivr.net/gh/simple-icons/simple-icons/icons/googlemaps.svg"
                    alt="Google Map" />
            </a>
        </div>
    </section>
    <main>
        <section class="menu-section">
            <h2>
                <div style="text-align:center; margin-bottom:25px;">
                    <label for="category-filter"><b>Filter by Category:</b> </label>
                    <select id="category-filter" onchange="filterMenu()"
                        style="width: 60px; height: 25px; background-color: #11ff00 ;">
                        <option value="all">All</option>
                        <option value="caffe">Caffe</option>
                        <option value="drink">Drink</option>
                    </select>
                </div>
            </h2>
            <!-- Caffe Category -->
            <div class="menu-category" data-category="caffe">
                <h3 style="width:100%;text-align:center;margin-top:30px;">Caffe</h3>
                <div class="menu-items" style="display: flex; flex-wrap: wrap; gap: 36px; justify-content: center;">
                    <!-- caffe items here -->
                    <div class="menu-card">
                        <img src="image/Hot Latte.jpg" alt="·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÄ·üí·ûä·üÖ">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÄ·üí·ûä·üÖ</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Hot_Latte">
                        </div>
                        <!-- <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÄ·üí·ûä·üÖ', 'qty-Hot_Latte')">Add to Cart</button> -->
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÄ·üí·ûä·üÖ', 'qty-Hot_Latte', 3500, 0.88)">Add to
                            Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Iced Latte.jpg" alt="·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûü·üí·ûö·ûü·üã">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûü·üí·ûö·ûü·üã</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Iced_Latte">
                        </div>
                        <!-- <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûü·üí·ûö·ûü·üã', 'qty-Iced_Latte')">Add to Cart</button> -->
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûü·üí·ûö·ûü·üã', 'qty-Iced_Latte', 3500, 0.88)">Add to
                            Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Hot Americano.jpg" alt="Americano">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûÄ·üí·ûä·üÖ</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Americano">
                        </div>
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûÄ·üí·ûä·üÖ ', 'qty-Americano', 3500, 0.88)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Iced Americano.jpg" alt="Iced-Americano">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûÅ·üí·ûò·üÖ·ûë·ûπ·ûÄ·ûÄ·ûÄ</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Iced-Americano">
                        </div>
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûÅ·üí·ûò·üÖ·ûë·ûπ·ûÄ·ûÄ·ûÄ', 'qty-Iced-Americano', 3500, 0.88)">Add to
                            Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Iced Milk.jpg" alt="Iced Milk">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÅ·û∂·ûî·üã</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Iced-Milk">
                        </div>
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÅ·û∂·ûî·üã ', 'qty-Iced-Milk', 3500, 0.88)">Add to
                            Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Hot Cappuccino .jpg" alt="Cappuccino">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûü·üí·ûö·ûü·üã·ûÄ·üí·ûä·üÖ</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Cappuccino">
                        </div>
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûü·üí·ûö·ûü·üã·ûÄ·üí·ûä·üÖ', 'qty-Cappuccino', 3500, 0.88)">Add to
                            Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Espresso.jpg" alt="Espresso">
                        <h3>·ûÄ·û∂·û†·üí·ûú·üÅ·ûÄ·üí·ûè·üÖ</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Espresso">
                        </div>
                        <button onclick="addToCart('·ûÄ·û∂·û†·üí·ûú·üÅ·ûÄ·üí·ûè·üÖ', 'qty-Espresso', 3500, 0.88)">Add to Cart</button>
                    </div>
                    <!-- ... -->
                </div>
            </div>
            </h3>
            <!-- Drink Category -->
            <div class="menu-category" data-category="drink">
                <h3 style="width:100%;text-align:center;margin-top:40px;">Drink</h3>
                <div class="menu-items" style="display: flex; flex-wrap: wrap; gap: 36px; justify-content: center;">
                    <!-- drink items here -->
                    <div class="menu-card">
                        <img src="image/Green-tea.jpg" alt="Green-tea">
                        <h3>·ûè·üÇ·ûî·üÉ·ûè·ûÑ | ·ûÄ·üí·ûö·û°·ûª·ûÄ</h3>
                        <div class="price">3500·üõ | 4000·üõ</div>
                        <div class="price">0.88$ | 1$ </div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Green-tea">
                        </div>
                        <button onclick="addToCart('·ûè·üÇ·ûî·üÉ·ûè·ûÑ', 'qty-Green-tea', 3500, 0.88)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Avocado.jpg" alt="Avocado">
                        <h3>·ûï·üí·ûõ·üÇ ·ûî·üê·ûö (·ûÄ·üí·ûö·û°·ûª·ûÄ)</h3>
                        <div class="price">4000·üõ</div>
                        <div class="price">1$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Avocado">
                        </div>
                        <button onclick="addToCart('·ûï·üí·ûõ·üÇ ·ûî·üê·ûö (·ûÄ·üí·ûö·û°·ûª·ûÄ)', 'qty-Avocado', 4000, 1)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Chocolate.jpg" alt="Chocolate">
                        <h3>·ûü·ûº·ûÄ·ûº·û°·û∂ | ·ûÄ·üí·ûö·û°·ûª·ûÄ</h3>
                        <div class="price">3500·üõ | 4000·üõ</div>
                        <div class="price">0.88$ | 1$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Chocolate">
                        </div>
                        <button onclick="addToCart('·ûü·ûº·ûÄ·ûº·û°·û∂', 'qty-Chocolate', 3500, 0.88)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/passion-mill.jpg" alt="passion-mill">
                        <h3>·ûï·û∂·ûü·û∑·ûì·ûü·üí·ûö·ûü·üã‚Äã‚Äã ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÅ·û∂·ûî·üã</h3>
                        <div class="price">3500·üõ</div>
                        <div class="price">0.88$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-passion-mill">
                        </div>
                        <button onclick="addToCart('·ûï·û∂·ûü·û∑·ûì·ûü·üí·ûö·ûü·üã‚Äã‚Äã ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÅ·û∂·ûî·üã', 'qty-passion-mill', 3500, 0.88)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/passion.jpg" alt="passion">
                        <h3>·ûï·û∂·ûü·û∑·ûì·ûü·üí·ûö·ûü·üã ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÜ·üÖ</h3>
                        <div class="price">4000·üõ</div>
                        <div class="price">1$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-passion">
                        </div>
                        <button onclick="addToCart('·ûï·û∂·ûü·û∑·ûì·ûü·üí·ûö·ûü·üã ·ûë·ûπ·ûÄ·ûä·üÑ·üá·ûÇ·üÑ·ûÜ·üÖ', 'qty-passion', 4000, 1)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/passion1.jpg" alt="passion-soda">
                        <h3>·ûï·û∂·ûü·û∑·ûì·ûü·üí·ûö·ûü·üã‚Äã ·ûü·ûº·ûä·û∂</h3>
                        <div class="price">4000·üõ</div>
                        <div class="price">1$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-passion-soda">
                        </div>
                        <button onclick="addToCart('·ûï·û∂·ûü·û∑·ûì·ûü·üí·ûö·ûü·üã‚Äã ·ûü·ûº·ûä·û∂', 'qty-passion-soda', 4000, 1)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Storbery.jpg" alt="Storbery">
                        <h3>·ûî·üí·ûõ·ûº·ûî·üä·û∫·ûö·û∏ | ·ûÄ·üí·ûö·û°·ûª·ûÄ</h3>
                        <div class="price">3500·üõ | 4000·üõ</div>
                        <div class="price">0.88$ | 1$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Storbery">
                        </div>
                        <button onclick="addToCart('·ûî·üí·ûõ·ûº·ûî·üä·û∫·ûö·û∏', 'qty-Storbery', 3500, 0.88)">Add to Cart</button>
                    </div>
                    <div class="menu-card">
                        <img src="image/Storbery1.jpg" alt="Storbery1">
                        <h3>·ûü·üí·ûö·üí·ûè·ûî·üä·û∫·ûö·û∏ | ·ûÄ·üí·ûö·û°·ûª·ûÄ</h3>
                        <div class="price">3500·üõ | 4000·üõ</div>
                        <div class="price">0.88$ | 1$</div>
                        <div class="quantity">
                            Quantity: <input type="number" value="0" min="0" id="qty-Storbery1">
                        </div>
                        <button onclick="addToCart('·ûü·üí·ûö·üí·ûè·ûî·üä·û∫·ûö·û∏', 'qty-Storbery1', 3500, 0.88)">Add to Cart</button>
                    </div>
                </div>
            </div>
        </section>
    </main>
    <div id="cart-message" style="
    display:none;
    position:fixed;
    top:40px;
    left:50%;
    transform:translateX(-50%);
    background:#222;
    color:#fff;
    padding:18px 30px;
    border-radius:9px;
    font-size:18px;
    z-index:1001;
    box-shadow:0 8px 30px rgba(0,0,0,0.15);"></div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="cart-modal">
        <div class="cart-modal-content">
            <span class="close" id="close-cart">&times;</span>
            <h2>Your Cart</h2>
            <div id="cart-items"></div>
            <button class="checkout-btn" id="checkout-btn">Checkout</button>
            <form id="checkout-form" class="checkout-form" style="display:none;" onsubmit="submitCheckout(event)">
                <input type="text" id="customer-name" placeholder="Your Name" required>
                <input type="tel" id="customer-phone" placeholder="Phone Number" required>
                <input type="text" id="customer-address" placeholder="Address" required>
                <button type="submit" class="checkout-btn">Submit Order</button>
            </form>
            <div id="thankyou-message" class="thankyou-message" style="display: none;"></div>
        </div>
    </div>
    <button id="cart-icon"
        style="position:fixed;right:22px;bottom:90px;z-index:100;background:#c3ff00;color:#fff;border:none;border-radius:50%;width:60px;height:60px;font-size:32px;cursor:pointer;">üõí</button>
    <span id="cart-count"
        style="position:fixed;right:18px;bottom:85px;background:red;color:#fff;border-radius:50%;width:26px;height:26px;display:inline-block;text-align:center;line-height:26px;font-weight:bold;z-index:101;">0</span>


    <!-- <script>
        let cart = {};

        // Add to Cart function
        function addToCart(item, qtyId, price) {
            var qty = parseInt(document.getElementById(qtyId).value);
            if (qty > 0) {
                if (cart[item]) {
                    cart[item].qty += qty;
                } else {
                    cart[item] = { qty: qty, price: price };
                }
                updateCartCount();
                document.getElementById(qtyId).value = 0;
                alert(qty + " x " + item + " added to cart!");
            } else {
                alert("Please select quantity!");
            }
        }

        // Update cart icon count
        function updateCartCount() {
            let count = 0;
            for (let item in cart) {
                count += cart[item].qty;
            }
            document.getElementById('cart-count').innerText = count;
        }

        // Show/Hide cart modal
        document.getElementById('cart-icon').onclick = function () {
            displayCart();
            document.getElementById('cart-modal').style.display = 'flex';
        };
        document.getElementById('close-cart').onclick = function () {
            document.getElementById('cart-modal').style.display = 'none';
        };
        window.onclick = function (event) {
            var modal = document.getElementById('cart-modal');
            if (event.target == modal) modal.style.display = "none";
        };

        // Display cart content
        function displayCart() {
            var cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            let grandTotal = 0;
            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = '<p>Your cart is empty.</p>';
            } else {
                let html = '<ul style="text-align:left;">';
                for (let item in cart) {
                    let itemTotal = cart[item].qty * cart[item].price;
                    grandTotal += itemTotal;
                    html += `<li style="margin-bottom:7px;">
                ${item} <b>x${cart[item].qty}</b>
                <span style="margin-left:10px;">= <b>${itemTotal.toLocaleString()}·üõ</b></span>
                <button onclick="removeFromCart('${item}')" style="margin-left:12px; background:#f55;color:#fff;border:none;border-radius:6px;cursor:pointer;">Remove</button>
            </li>`;
                }
                html += '</ul>';
                html += `<div style="margin-top:15px;font-size:18px;text-align:right;"><b>Total: ${grandTotal.toLocaleString()}·üõ</b></div>`;
                cartItems.innerHTML = html;
            }
        }

        // Remove item from cart
        function removeFromCart(item) {
            delete cart[item];
            updateCartCount();
            displayCart();
        }
    </script> -->
    <script>
        let cart = {};

        // Add to Cart function
        function addToCart(item, qtyId, priceRiel, priceUSD) {
            var qty = parseInt(document.getElementById(qtyId).value);
            if (qty > 0) {
                if (cart[item]) {
                    cart[item].qty += qty;
                } else {
                    cart[item] = { qty: qty, priceRiel: priceRiel, priceUSD: priceUSD };
                }
                updateCartCount();
                document.getElementById(qtyId).value = 0;
                alert(qty + " x " + item + " added to cart!");
            } else {
                alert("Please select quantity!");
            }
        }

        // Update cart icon count
        function updateCartCount() {
            let count = 0;
            for (let item in cart) {
                count += cart[item].qty;
            }
            document.getElementById('cart-count').innerText = count;
        }

        // Show/Hide cart modal
        document.getElementById('cart-icon').onclick = function () {
            displayCart();
            document.getElementById('cart-modal').style.display = 'flex';
        };
        document.getElementById('close-cart').onclick = function () {
            document.getElementById('cart-modal').style.display = 'none';
        };
        window.onclick = function (event) {
            var modal = document.getElementById('cart-modal');
            if (event.target == modal) modal.style.display = "none";
        };

        // Display cart content
        function displayCart() {
            var cartItems = document.getElementById('cart-items');
            cartItems.innerHTML = '';
            let grandTotalRiel = 0;
            let grandTotalUSD = 0;
            if (Object.keys(cart).length === 0) {
                cartItems.innerHTML = '<p>Your cart is empty.</p>';
            } else {
                let html = '<ul style="text-align:left;">';
                for (let item in cart) {
                    let itemTotalRiel = cart[item].qty * cart[item].priceRiel;
                    let itemTotalUSD = cart[item].qty * cart[item].priceUSD;
                    grandTotalRiel += itemTotalRiel;
                    grandTotalUSD += itemTotalUSD;
                    html += `<li style="margin-bottom:7px;">
                ${item} <b>x${cart[item].qty}</b>
                <span style="margin-left:10px;">= <b>${itemTotalRiel.toLocaleString()}·üõ (${itemTotalUSD.toFixed(2)}$)</b></span>
                <button onclick="removeFromCart('${item}')" style="margin-left:12px; background:#f55;color:#fff;border:none;border-radius:6px;cursor:pointer;">Remove</button>
            </li>`;
                }
                html += '</ul>';
                html += `<div style="margin-top:15px;font-size:18px;text-align:right;"><b>Total: ${grandTotalRiel.toLocaleString()}·üõ (${grandTotalUSD.toFixed(2)}$)</b></div>`;
                cartItems.innerHTML = html;
            }
        }

        // Remove item from cart
        function removeFromCart(item) {
            delete cart[item];
            updateCartCount();
            displayCart();
        }
    </script>
</body>
<script>
    // let cart = {};
    // function addToCart(item, qtyId) {
    //     var qty = parseInt(document.getElementById(qtyId).value);
    //     if (qty > 0) {
    //         if (cart[item]) cart[item] += qty;
    //         else cart[item] = qty;
    //         updateCartCount();
    //         document.getElementById(qtyId).value = 0;
    //         alert(qty + " x " + item + " added to cart!");
    //     } else {
    //         alert("Please select quantity!");
    //     }
    // }
    // function addToCart(item, qtyId, price) {
    //     var qty = parseInt(document.getElementById(qtyId).value);
    //     if (qty > 0) {
    //         if (cart[item]) {
    //             cart[item].qty += qty;
    //         } else {
    //             cart[item] = { qty: qty, price: price };
    //         }
    //         updateCartCount();
    //         document.getElementById(qtyId).value = 0;
    //         showCartMessage(qty, item, price);
    //     } else {
    //         showCartMessage(null, null, null, true);
    //     }

    // }

    // function updateCartCount() {
    //     let count = Object.values(cart).reduce((a, b) => a + b, 0);
    //     document.getElementById('cart-count').innerText = count;
    // }

    document.getElementById('cart-icon').onclick = function () {
        displayCart();
        document.getElementById('cart-modal').style.display = 'flex';
        document.getElementById("checkout-form").style.display = "none";
        document.getElementById("thankyou-message").style.display = "none";
        document.getElementById("checkout-btn").style.display = "inline-block";
    };
    document.getElementById('close-cart').onclick = function () {
        document.getElementById('cart-modal').style.display = 'none';
    };
    window.onclick = function (event) {
        var modal = document.getElementById('cart-modal');
        if (event.target == modal) modal.style.display = "none";
    };
    // function displayCart() {
    //     var cartItems = document.getElementById('cart-items');
    //     cartItems.innerHTML = '';
    //     let grandTotal = 0;

    //     if (Object.keys(cart).length === 0) {
    //         cartItems.innerHTML = '<p>Your cart is empty.</p>';
    //     } else {
    //         let html = '<ul style="text-align:left;">';
    //         for (let item in cart) {
    //             let itemTotal = cart[item].qty * cart[item].price;
    //             grandTotal += itemTotal;
    //             html += `<li style="margin-bottom:7px;">
    //             ${item} <b>x${cart[item].qty}</b>
    //             <span style="margin-left:10px;">= <b>${itemTotal.toLocaleString()}·üõ</b></span>
    //             <button onclick="removeFromCart('${item}')" style="margin-left:12px; background:#f55;color:#fff;border:none;border-radius:6px;cursor:pointer;">Remove</button>
    //         </li>`;
    //         }
    //         html += '</ul>';
    //         html += `<div style="margin-top:15px;font-size:18px;text-align:right;"><b>Total: ${grandTotal.toLocaleString()}·üõ</b></div>`;
    //         cartItems.innerHTML = html;
    //     }
    // }

    // function removeFromCart(item) {
    //     delete carts[item];
    //     updateCartCount();
    //     displayCart();
    // }

    document.getElementById("checkout-btn").onclick = function () {
        if (Object.keys(cart).length === 0) {
            alert("Your cart is empty!");
            return;
        }
        document.getElementById("checkout-form").style.display = "flex";
        document.getElementById("checkout-btn").style.display = "none";
        document.getElementById("thankyou-message").style.display = "none";
    };
   
    function submitCheckout(event) {
        event.preventDefault();
        // Get form values
        let name = document.getElementById("customer-name").value;
        let phone = document.getElementById("customer-phone").value;
        let address = document.getElementById("customer-address").value;

        // Turn cart into an array of items
        let orderItems = Object.entries(cart).map(([itemName, obj]) => ({
            name: itemName,
            qty: obj.qty,
            priceRiel: obj.priceRiel,
            priceUSD: obj.priceUSD
        }));

        // Calculate totals
        let totalRiel = orderItems.reduce((sum, item) => sum + item.qty * item.priceRiel, 0);
        let totalUSD = orderItems.reduce((sum, item) => sum + item.qty * item.priceUSD, 0);

        // Compose order object
        let order = {
            date: new Date().toISOString().slice(0, 10),
            number: 'KHC-' + Math.floor(Math.random() * 9000 + 1000),
            items: orderItems,           // <-- Save as array!
            totalRiel: totalRiel,
            totalUSD: totalUSD,
            status: "Completed"
        };

        // Save to localStorage
        let orders = JSON.parse(localStorage.getItem('kimhut_orders') || '[]');
        orders.unshift(order);
        localStorage.setItem('kimhut_orders', JSON.stringify(orders));

        // UI feedback
        document.getElementById("thankyou-message").innerHTML =
            `Thank you, <b>${name}</b>!<br>Your order has been received.`;
        document.getElementById("thankyou-message").style.display = "block";
        document.getElementById("checkout-form").reset();
        document.getElementById("checkout-form").style.display = "none";
        cart = {};
        updateCartCount();
        setTimeout(() => {
            document.getElementById("cart-modal").style.display = "none";
            document.getElementById("thankyou-message").style.display = "none";
            document.getElementById("checkout-btn").style.display = "inline-block";
        }, 2500);
    }
    // function displayCart() {
    //     var cartItems = document.getElementById('cart-items');
    //     cartItems.innerHTML = '';
    //     let grandTotal = 0;
    //     if (Object.keys(cart).length === 0) {
    //         cartItems.innerHTML = '<p>Your cart is empty.</p>';
    //     } else {
    //         let html = '<ul style="text-align:left;">';
    //         for (let item in cart) {
    //             let itemTotal = cart[item].qty * cart[item].price;
    //             grandTotal += itemTotal;
    //             html += `<li style="margin-bottom:7px;">
    //             ${item} <b>x${cart[item].qty}</b>
    //             <span style="margin-left:10px;">= <b>${itemTotal.toLocaleString()}·üõ</b></span>
    //             <button onclick="removeFromCart('${item}')" style="margin-left:12px; background:#f55;color:#fff;border:none;border-radius:6px;cursor:pointer;">Remove</button>
    //         </li>`;
    //         }
    //         html += '</ul>';
    //         html += `<div style="margin-top:15px;font-size:18px;text-align:right;"><b>Total: ${grandTotal.toLocaleString()}·üõ</b></div>`;
    //         cartItems.innerHTML = html;
    //     }
    // }

    // function removeFromCart(item) {
    //     delete cart[item];
    //     updateCartCount();
    //     displayCart();
    // }

    function filterMenu() {
        var filter = document.getElementById("category-filter").value;
        var categories = document.querySelectorAll('.menu-category');
        categories.forEach(function (cat) {
            if (filter === "all" || cat.getAttribute('data-category') === filter) {
                cat.style.display = "";
            } else {
                cat.style.display = "none";
            }
        });
    }

    // function addToCart(item, qtyId, priceRiel = 3500, priceUSD = 0.88) {
    //     var qty = parseInt(document.getElementById(qtyId).value);
    //     if (qty > 0) {
    //         if (cart[item]) {
    //             cart[item] += qty;
    //         } else {
    //             cart[item] = qty;
    //         }
    //         updateCartCount();
    //         document.getElementById(qtyId).value = 0; // Reset input
    //         showCartMessage(qty, item, priceRiel, priceUSD);
    //     } else {
    //         showCartMessage(null, null, null, null, true);
    //     }
    // }

    function showCartMessage(qty, item, priceRiel, priceUSD, empty) {
        var msg = document.getElementById("cart-message");
        if (empty) {
            msg.innerHTML = "Please select quantity!";
        } else {
            let totalRiel = (qty * priceRiel).toLocaleString();
            let totalUSD = (qty * priceUSD).toFixed(2);
            msg.innerHTML = `${qty} x <b>${item}</b> added to cart<br>
        Total: <b>${totalRiel}·üõ (${totalUSD}$)</b>`;
        }
        msg.style.display = "block";
        setTimeout(function () {
            msg.style.display = "none";
        }, 2200);
    }

</script>

</html>